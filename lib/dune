(library
 (name mirageio)
 (libraries dream-mirage mirage-time tcpip mirageio_template mirageio_data
   mirage-kv-mem))

(rule
 (targets asset.ml asset.mli)
 (deps
  (source_tree ../asset))
 (action
  (with-stdout-to
   %{null}
   (run %{bin:ocaml-crunch} -m lwt ../asset -o asset.ml))))
